[{"/Users/test/Desktop/projects/React_projects/file_upload/client/src/App.js":"1","/Users/test/Desktop/projects/React_projects/file_upload/client/src/index.js":"2","/Users/test/Desktop/projects/React_projects/file_upload/client/src/components/FileUpload.js":"3","/Users/test/Desktop/projects/React_projects/file_upload/client/src/components/LinearProgess.js":"4"},{"size":285,"mtime":1607191583571,"results":"5","hashOfConfig":"6"},{"size":197,"mtime":1607190689783,"results":"7","hashOfConfig":"6"},{"size":2465,"mtime":1607196669914,"results":"8","hashOfConfig":"6"},{"size":1225,"mtime":1607196712761,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7lwz1e",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/test/Desktop/projects/React_projects/file_upload/client/src/App.js",[],"/Users/test/Desktop/projects/React_projects/file_upload/client/src/index.js",[],"/Users/test/Desktop/projects/React_projects/file_upload/client/src/components/FileUpload.js",["19"],"import React, {Fragment, useState} from 'react'\nimport LinearProgess from \"../components/LinearProgess\"\nconst axios = require('axios');\n\nconst FileUpload = () => {\n    const [file, setFile] = useState('');\n    const [filename, setFilename] = useState('Choose file....');\n    const [uploadedFile, setUploadedFile] = useState({});\n    const [uploadPercentage, setUploadPercentage] = useState(0);\n    const [isUploading, setIsUploading] = useState(false);\n\n    const onChange = (e) => {\n        console.log(e.target.files.length);\n        if(e.target.files.length > 0){\n            setFile(e.target.files[0])\n            setFilename(e.target.files[0].name)\n        }\n    }\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        setIsUploading(true);\n        const formData = new FormData();\n        formData.append('file', file)\n        formData.append('name', \"aditya\")\n        formData.append('tags', JSON.stringify(['asdcdc', 'cdcd']))\n        try{\n            console.log('making req....')\n            const res = await axios.post('/upload', formData, {\n                onUploadProgress: progressEvent => {\n                    const percentage = parseInt(Math.round((progressEvent.loaded * 100) / progressEvent.total));\n                    setUploadPercentage(percentage)\n\n                    if(percentage === 100){\n                        setTimeout(() => {setUploadPercentage(0); setIsUploading(false)}, 2000);    \n                    }\n                }\n            })\n            console.log(res);\n            setUploadedFile(res.data);\n        }catch (err) {\n            if(err.response.status === 500){\n                console.log('Internal server err')\n            }else{\n                console.log(err.response.data.msg)\n            }\n        }\n    }\n    return (\n        <Fragment>\n            <form onSubmit={onSubmit}>\n                <div className=\"custom-file mb-4\">\n                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" onChange={onChange}/>\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">{filename}</label>\n                </div>\n                <input type=\"submit\" value=\"Upload\" className=\"btn btn-primary btn-block mt-4\"/>\n            </form>\n            <br/>\n            <LinearProgess progress={uploadPercentage}/>\n            {file && isUploading ?  <LinearProgess progress={uploadPercentage}/> : null}\n        </Fragment>\n    )\n}\n\nexport default FileUpload\n","/Users/test/Desktop/projects/React_projects/file_upload/client/src/components/LinearProgess.js",[],{"ruleId":"20","severity":1,"message":"21","line":8,"column":12,"nodeType":"22","messageId":"23","endLine":8,"endColumn":24},"no-unused-vars","'uploadedFile' is assigned a value but never used.","Identifier","unusedVar"]